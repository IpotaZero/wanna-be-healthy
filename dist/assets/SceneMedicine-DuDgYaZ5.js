const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SceneNovel-DARaezDN.js","../run.js","./ScenePretitle-igXtx3ht.js","./SceneDay-DWnHwZdp.js","./SceneNight-COG9Xl4u.js"])))=>i.map(i=>d[i]);
import{A as c,S as l,_ as n,a as r}from"../run.js";import{S as h,P as d,K as u,a as i}from"./ScenePretitle-igXtx3ht.js";class w extends h{ready;#i;#n;#r;#s;#e=0;#t=!1;#a;constructor(e){super(),this.ready=this.#o(e)}async end(){this.#a.discard()}async#o(e){const a=document.querySelector("#container"),t=await fetch("pages/medicine.html").then(s=>s.text());this.#i=new d(a,"#medicine",t),await this.#i.ready,await c.sleep(100),this.#a=new u("horizontal"),this.#c(a),this.#l(e)}#c(e){this.#n=e.querySelector("button:nth-child(1)"),this.#r=e.querySelector("button:nth-child(2)"),this.#s=e.querySelector("#dame")}#l(e){this.#n.onclick=()=>this.#h(e),this.#r.onclick=()=>this.#d(e)}async#h(e){if(!this.#t){if(this.#e===10){this.#t=!0,this.#e++,this.#a.isAvailable=!1,i.dark=!0,i.day++,l.pakipaki.play();const a=document.querySelector("#container"),t=document.createElement("div");if(t.classList.add("vale"),document.body.appendChild(t),await c.sleep(2e3),a.style.transform="rotate(2deg)",document.querySelector("#cover").style.transform="rotate(2deg)",i.day===4){const{SceneNovel:s}=await n(async()=>{const{SceneNovel:o}=await import("./SceneNovel-DARaezDN.js");return{SceneNovel:o}},__vite__mapDeps([0,1,2]),import.meta.url);await r.goto(()=>new s(!1))}else{const{SceneDay:s}=await n(async()=>{const{SceneDay:o}=await import("./SceneDay-DWnHwZdp.js");return{SceneDay:o}},__vite__mapDeps([3,1,2]),import.meta.url);await r.goto(()=>new s)}t.classList.add("fade-out"),await c.sleep(2e3),t.remove();return}if(i.usedMedicine)this.#u(),this.#e++;else{this.#t=!0,i.usedMedicine=!0,i.day++,this.#a.isAvailable=!1;const{SceneDay:a}=await n(async()=>{const{SceneDay:t}=await import("./SceneDay-DWnHwZdp.js");return{SceneDay:t}},__vite__mapDeps([3,1,2]),import.meta.url);r.goto(()=>new a)}}}async#d(e){if(this.#t)return;this.#t=!0,this.#a.isAvailable=!1;const{SceneNight:a}=await n(async()=>{const{SceneNight:t}=await import("./SceneNight-COG9Xl4u.js").then(s=>s.am);return{SceneNight:t}},__vite__mapDeps([4,1,2]),import.meta.url);r.goto(()=>new a(e))}#u(){this.#s.classList.remove("transparent"),this.#s.reset(),console.log(this.#e),this.#s.style.color=`rgb(${this.#e/20*255}, 0, 0)`}}export{w as SceneMedicine};
//# sourceMappingURL=SceneMedicine-DuDgYaZ5.js.map
