@font-face {
    font-family: dot;
    src: url(assets/font/marukiya.ttf);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;

    image-rendering: pixelated;

    user-select: none;
    touch-action: none;
    -webkit-user-drag: none;
    -webkit-user-select: none;
    -webkit-tap-highlight-color: transparent;
}

html,
body {
    width: 100%;
    height: 100%;
}

body {
    font-family: dot;
    font-size: 4vh;

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;

    padding: 4vh 0;

    overflow: hidden;
}

#container {
    position: relative;
    display: flex;

    align-items: center;
    justify-content: center;

    padding: 0 2vh;

    height: 100%;
    width: 100%;
    transition: opacity 0.3s ease;

    overflow: hidden;
}

#parameter {
    left: 0;
    top: 0;

    position: absolute;
    display: flex;
    flex-direction: column;
    width: fit-content;

    gap: 4vh;

    margin-left: 4vh;
    padding-right: 4vh;
    padding-bottom: 4vh;

    border-right: 0.4vh solid #111;
    border-bottom: 0.4vh solid #111;

    & .parameter {
        align-self: flex-end;

        display: flex;
        position: relative;
        width: fit-content;

        & .label {
            width: 20vh;
            text-align: right;
        }

        & .value-box {
            display: flex;
            width: 20vh;

            & .value {
                width: 100%;
                background-color: darkslateblue;
            }
        }
    }
}

[class^="i-element-"] {
    position: absolute;
    display: flex;
}

.canvas {
    height: 70%;
    background-color: #111;
}

.time {
    background-color: lightsalmon;

    bottom: 6vh;

    width: 60vh;
    height: 4vh;
}

.blink-triangle::after {
    position: relative;
    content: "/";
    animation: blink-triangle 1s infinite;
}

@keyframes blink-triangle {
    0% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }

    100% {
        opacity: 1;
    }
}

.note {
    position: absolute;

    width: 16vh;
    aspect-ratio: 1;
    border-radius: 50%;
    border: #111 0.4vh solid;

    transform: translate(50%, 25%);
}

.measure-line {
    position: absolute;
    height: 100%;
    width: 0.2vh;
    background-color: #111;

    transform: translate(50%, 0);
}

#goal {
    border: 0.5vh solid #111;
    transition: border-color 0.3s ease, background-color 0.3s ease;

    &[data-score="normal"] {
        animation: pulse-normal 0.1s;
    }

    &[data-score="great"] {
        border-color: gold;
        background-color: rgba(255, 215, 0, 0.2);
        animation: pulse-great 0.1s;
    }

    &[data-score="good"] {
        border-color: limegreen;
        background-color: rgba(50, 205, 50, 0.2);
        animation: pulse-good 0.1s;
    }

    &[data-score="bad"] {
        border-color: crimson;
        background-color: rgba(220, 20, 60, 0.2);
        animation: pulse-bad 0.1s;
    }
}

@keyframes pulse-normal {
    0%,
    100% {
        transform: translate(50%, 25%) scale(1);
    }
    50% {
        transform: translate(50%, 25%) scale(1.1);
    }
}

@keyframes pulse-great {
    0%,
    100% {
        transform: translate(50%, 25%) scale(1);
        box-shadow: 0 0 1vh gold;
    }
    50% {
        transform: translate(50%, 25%) scale(1.1);
        box-shadow: 0 0 2vh gold;
    }
}

@keyframes pulse-good {
    0%,
    100% {
        transform: translate(50%, 25%) scale(1);
        box-shadow: 0 0 1vh limegreen;
    }
    50% {
        transform: translate(50%, 25%) scale(1.1);
        box-shadow: 0 0 2vh limegreen;
    }
}

@keyframes pulse-bad {
    0%,
    100% {
        transform: translate(50%, 25%) scale(1);
        box-shadow: 0 0 1vh crimson;
    }
    50% {
        transform: translate(50%, 25%) scale(1.1);
        box-shadow: 0 0 2vh crimson;
    }
}

.character-appear {
    animation: character-appear 0.1s ease-in-out;
}

@keyframes character-appear {
    0% {
        scale: 0.95;
    }
    100% {
        scale: 1;
    }
}

#error {
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    display: flex;
    position: absolute;
}

@media (orientation: portrait) {
    #container {
        opacity: 0;
        pointer-events: none;
    }

    #error {
        opacity: 1;
    }
}
